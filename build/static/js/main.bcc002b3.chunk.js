(this.webpackJsonpatcv2=this.webpackJsonpatcv2||[]).push([[0],{45:function(e,t,n){"use strict";n.r(t);var r=n(22),c=n(10),s=n(7),a=n(23),i=n.n(a),o=n(4);n(20),n(38),n(39);o.a.initializeApp({apiKey:"AIzaSyB3hZLlsHCeIn_P4kOUJEPTTurPG9uq_JQ",authDomain:"atcoderreminderv2.firebaseapp.com",databaseURL:"https://atcoderreminderv2-default-rtdb.firebaseio.com",projectId:"atcoderreminderv2",storageBucket:"atcoderreminderv2.appspot.com",messagingSenderId:"717880908898",appId:"1:717880908898:web:94c8dc7c05861f291c053b",measurementId:"G-1FRW7Q8DGS"});var l=o.a.auth(),u=o.a.firestore(),d=(o.a.functions(),o.a.firestore.Timestamp,n(25)),j=n(2),b={signInFlow:"popup",signInOptions:[{provider:d.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}]};var f=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(i.a,{uiConfig:b,firebaseAuth:l})})};var h=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:"hero is-success is-bold",children:Object(j.jsx)("div",{className:"hero-body",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"title is-3",children:"AtCoder Reminder"})})})})})},p=n(47),m=n(48);var O=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("div",{className:"content has-text-centered",children:[Object(j.jsx)("hr",{}),Object(j.jsx)("p",{children:"2021\xa9kumastry"}),Object(j.jsxs)("div",{className:"columns  is-centered",children:[Object(j.jsx)("div",{className:"column  is-narrow  ",children:Object(j.jsx)("a",{href:"https://twitter.com/kumastry1",target:"_black",children:Object(j.jsx)(p.a,{size:48,round:!0})})}),Object(j.jsx)("div",{className:"column  is-narrow",children:Object(j.jsx)("a",{href:"mailto:kumastry2212@gmail.com",children:Object(j.jsx)(m.a,{size:48,round:!0})})})]})]})})},v=n(26),x=n(12),g=n.n(x),y=n(17);function N(){return(N=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/resources/problems.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/resources/problem-models.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return w.apply(this,arguments)}function w(){return(w=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/atcoder-api/results?user=".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t="";return t="AC"===e.array.sub?"#c8e4cc":"nosub"!==e.array.sub?"#fcecbc":"#ffffff",Object(j.jsx)("div",{className:"card",style:{margin:"8px",backgroundColor:t},children:Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsx)("p",{className:"title",children:Object(j.jsxs)("a",{href:e.array.url,target:"_black",children:[e.array.contest+" "+e.array.title,Object(j.jsx)("br",{}),"diff:"+e.array.diff+" submission:"+e.array.sub,Object(j.jsx)("br",{}),e.array.version]})}),Object(j.jsxs)("p",{class:"subtitle",children:["user:",e.array.user]}),Object(j.jsx)("footer",{className:"card-footer",children:Object(j.jsx)("input",{type:"button",value:"delete",className:"card-footer-item",onClick:function(){return e.deleteTask(e.id)}})})]})})};var S=function(e){var t=e.array.filter((function(t){var n="all";return n=t.diff<400?"gray":t.diff<800?"brawn":t.diff<1200?"green":t.diff<1600?"cyan":t.diff<2e3?"blue":t.diff<2400?"yellow":t.diff<2800?"orange":"red",console.log(n),"all"===e.diffFilter||e.diffFilter===n})).filter((function(t){var n="all";return"AC"===t.sub?n="AC":"WA"===t.sub?n="WA":"nosub"===t.sub&&(n="nosub"),"all"===e.subFilter||e.subFilter===n}));return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"is-vertical-center",children:t.map((function(t,n){return"init"!==t?Object(j.jsx)(C,{array:t,id:n,deleteTask:e.deleteTask}):Object(j.jsx)("p",{children:"loading..."})}))})})};var E=function(e){var t=Object(s.useState)(""),n=Object(c.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(["init"]),o=Object(c.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)("all"),f=Object(c.a)(b,2),h=f[0],p=f[1],m=Object(s.useState)("all"),O=Object(c.a)(m,2),x=O[0],g=O[1],y=e.userName;function w(){var t=l.slice(0,l.length),n=r.split("/"),c=n[n.length-1],s=n[n.length-3],i="",o=0,u="nosub";(function(){return N.apply(this,arguments)})().then((function(e){e.map((function(e){e.id===c&&(i=e.title)}))})).then((function(){""!==i?function(){return k.apply(this,arguments)}().then((function(e){o="undefined"===typeof e[c]?0:e[c].difficulty})).then((function(){A(y).then((function(e){e.map((function(e){e.problem_id===c&&("nosub"===u||"AC"!==u&&"AC"===e.result?u=e.result:"AC"!==u&&(u=("WA"!==u&&"WA"===e.result||"TLE"!==u&&e.result,e.result)))}))})).then((function(){var n=""===e.userName?"no user":e.userName,a={title:i,url:r,diff:Math.max(o,0),problem_id:c,contest:s,sub:u,user:n,version:0};t.unshift(a),d(t)}))})):alert("Problem Not Found")})),a("")}return Object(s.useEffect)((function(){u.collection("problems").doc(e.uid).get().then((function(t){if(console.log(t.data()),t.exists){var n=t.data();console.log(n.problems),void 0===n.problems?u.collection("problems").doc(e.uid).set({}):(console.log(n.problems),d(n.problems))}else console.log("no data")}))}),[]),Object(s.useEffect)((function(){"init"!==l[0]&&(console.log("fff"),u.collection("problems").doc(e.uid).set({problems:l}).then((function(){console.log(l),console.log("Document written ")})).catch((function(e){console.error("Error adding document: ",e)})))}),[l]),Object(j.jsx)("div",{children:Object(j.jsx)("main",{children:Object(j.jsxs)("section",{className:"section",children:[Object(j.jsxs)("button",{className:"button",onClick:function(){console.log(l);var e=[];l.map((function(t){e.push(t.user)})),e=Object(v.a)(new Set(e));var t=l.slice(0,l.length);e.map((function(e){A(e).then((function(e){t.map((function(t){e.map((function(e){t.problem_id===e.problem_id&&(t.sub=e.result,t.version++)}))}))}))})),d(t),console.log(l)},style:{float:"left"},children:[Object(j.jsx)("span",{class:"icon",children:Object(j.jsx)("i",{class:"fas fa-redo"})}),Object(j.jsx)("span",{children:"Reload"})]}),Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Problem URL",value:r,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&w()}}),Object(j.jsx)("button",{className:"button is-fullwidth is-success is-light",onClick:w,children:"Add Problem"}),Object(j.jsx)("div",{className:"select is-success is-active ",children:Object(j.jsxs)("select",{onChange:function(e){return p(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"submission-All"}),Object(j.jsx)("option",{value:"AC",children:"AC"}),Object(j.jsx)("option",{value:"WA",children:"WA"}),Object(j.jsx)("option",{value:"nosub",children:"Nosub"})]})}),Object(j.jsx)("div",{className:"select is-success is-active",children:Object(j.jsxs)("select",{onChange:function(e){return g(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"diffculity-All"}),Object(j.jsx)("option",{value:"gray",children:"0-400"}),Object(j.jsx)("option",{value:"brawn",children:"400-800"}),Object(j.jsx)("option",{value:"green",children:"800-1200"}),Object(j.jsx)("option",{value:"cyan",children:"1200-1600"}),Object(j.jsx)("option",{value:"blue",children:"1600-2000"}),Object(j.jsx)("option",{value:"yellow",children:"2000-2400"}),Object(j.jsx)("option",{value:"orange",children:"2400-2800"}),Object(j.jsx)("option",{value:"red",children:"2800-\u221e"})]})}),Object(j.jsx)("section",{className:"section",children:Object(j.jsx)(S,{array:l,deleteTask:function(e){var t=l.slice(0,l.length);t.splice(e,1),d(t)},diffFilter:x,subFilter:h})})]})})})};var I=function(e){var t=Object(s.useState)(""),n=Object(c.a)(t,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){if(localStorage.user){var e=JSON.parse(localStorage.user);userform.value=e,a(e)}}),[]),Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(r))}),[r]),Object(j.jsxs)("div",{children:[Object(j.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main nabigation",children:Object(j.jsx)("div",{className:"navbar-brand",children:Object(j.jsx)("input",{className:"navbar-item",id:"userform",value:r,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"Username"})})}),Object(j.jsx)(E,{userName:r,uid:e.uid})]})};function F(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(I,{uid:e.uid}),Object(j.jsx)(O,{})]})}var P=function(){var e=Object(s.useState)(!0),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(null),i=Object(c.a)(a,2),o=i[0],u=i[1];return Object(s.useEffect)((function(){var e=l.onAuthStateChanged((function(e){r(!1),u(e),console.log(e.uid)}));return function(){return e()}}),[]),n?Object(j.jsx)("div",{children:"loading..."}):null==o?Object(j.jsx)(f,{}):Object(j.jsx)(F,{uid:o.uid})};n(44);Object(r.render)(Object(j.jsx)(P,{}),document.querySelector("#root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.bcc002b3.chunk.js.map