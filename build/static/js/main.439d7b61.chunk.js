(this.webpackJsonpatcv2=this.webpackJsonpatcv2||[]).push([[0],{42:function(e,t,r){"use strict";r.r(t);var n=r(20),c=r(11),s=r(8),a=r(21),i=r.n(a),o=r(4);r(18),r(35),r(36);o.a.initializeApp({apiKey:"AIzaSyB3hZLlsHCeIn_P4kOUJEPTTurPG9uq_JQ",authDomain:"atcoderreminderv2.firebaseapp.com",databaseURL:"https://atcoderreminderv2-default-rtdb.firebaseio.com",projectId:"atcoderreminderv2",storageBucket:"atcoderreminderv2.appspot.com",messagingSenderId:"717880908898",appId:"1:717880908898:web:94c8dc7c05861f291c053b",measurementId:"G-1FRW7Q8DGS"});var u=o.a.auth(),l=o.a.firestore(),d=(o.a.functions(),o.a.firestore.Timestamp,r(23)),j=r(3),b={signInFlow:"popup",signInOptions:[{provider:d.a.auth.EmailAuthProvider.PROVIDER_ID,requireDisplayName:!1}]};var f=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(i.a,{uiConfig:b,firebaseAuth:u})})};var h=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:"hero is-success is-bold",children:Object(j.jsx)("div",{className:"hero-body",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("h1",{className:"title is-3",children:"AtCoder Reminder"})})})})})},m=r(44),p=r(45);var O=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("div",{className:"content has-text-centered",children:[Object(j.jsx)("hr",{}),Object(j.jsx)("p",{children:"2021\xa9kumastry"}),Object(j.jsxs)("div",{className:"columns  is-centered",children:[Object(j.jsx)("div",{className:"column  is-narrow  ",children:Object(j.jsx)("a",{href:"https://twitter.com/kumastry1",target:"_black",children:Object(j.jsx)(m.a,{size:48,round:!0})})}),Object(j.jsx)("div",{className:"column  is-narrow",children:Object(j.jsx)("a",{href:"mailto:kumastry2212@gmail.com",children:Object(j.jsx)(p.a,{size:48,round:!0})})})]})]})})},x=r(12),v=r.n(x),g=r(15);function y(){return(y=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/resources/problems.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/resources/problem-models.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(g.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kenkoooo.com/atcoder/atcoder-api/results?user=".concat(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t="";return t="AC"===e.array.sub?"#c8e4cc":"nosub"!==e.array.sub?"#fcecbc":"#ffffff",Object(j.jsx)("div",{className:"card",style:{margin:"8px",backgroundColor:t},children:Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsx)("p",{className:"title",children:Object(j.jsxs)("a",{href:e.array.url,target:"_black",children:[e.array.contest+" "+e.array.title,Object(j.jsx)("br",{}),"diff:"+e.array.diff+" submission:"+e.array.sub,Object(j.jsx)("br",{})]})}),Object(j.jsxs)("p",{class:"subtitle",children:["user:",e.array.user]}),Object(j.jsx)("footer",{className:"card-footer",children:Object(j.jsx)("input",{type:"button",value:"delete",className:"card-footer-item",onClick:function(){return e.deleteTask(e.id)}})})]})})}function S(e){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"is-vertical-center",children:e.array.map((function(t,r){return Object(j.jsx)(w,{array:t,id:r,deleteTask:e.deleteTask})}))})})}function A(e){var t=Object(s.useState)(""),r=Object(c.a)(t,2),n=r[0],a=r[1],i=Object(s.useState)([]),o=Object(c.a)(i,2),u=o[0],d=o[1],b=e.userName;function f(t){var r=u.slice(0,u.length),c=n.split("/"),s=c[c.length-1],i=c[c.length-3],o="",l=0,j="nosub";(function(){return y.apply(this,arguments)})().then((function(e){e.map((function(e){e.id===s&&(o=e.title)}))})).then((function(){""!==o?function(){return N.apply(this,arguments)}().then((function(e){l="undefined"===typeof e[s]?0:e[s].difficulty})).then((function(){(function(e){return k.apply(this,arguments)})(b).then((function(e){e.map((function(e){e.problem_id===s&&("nosub"===j||"AC"!==j&&"AC"===e.result?j=e.result:"AC"!==j&&(j=("WA"!==j&&"WA"===e.result||"TLE"!==j&&e.result,e.result)))}))})).then((function(){var t=""===e.userName?"no user":e.userName,c={title:o,url:n,diff:Math.max(l,0),problem_id:s,contest:i,sub:j,user:t};r.unshift(c),d(r)}))})):alert("Problem Not Found")})),a("")}return Object(s.useEffect)((function(){l.collection("problems").doc(e.uid).get().then((function(e){if(e.exists){var t=e.data();console.log(t.problems),d(t.problems)}else console.log("no data")}))}),[]),Object(s.useEffect)((function(){l.collection("problems").doc(e.uid).set({problems:u}).then((function(){console.log(u),console.log("Document written ")})).catch((function(e){console.error("Error adding document: ",e)}))}),[u]),Object(j.jsx)("div",{children:Object(j.jsx)("main",{children:Object(j.jsxs)("section",{className:"section",children:[Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Problem URL",value:n,onChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&f()}}),Object(j.jsx)("button",{className:"button is-fullwidth is-success is-light",onClick:f,children:"Add Problem"}),Object(j.jsx)("section",{className:"section",children:Object(j.jsx)(S,{array:u,deleteTask:function(e){var t=u.slice(0,u.length);t.splice(e,1),d(t)}})})]})})})}var C=function(e){var t=Object(s.useState)(""),r=Object(c.a)(t,2),n=r[0],a=r[1];return Object(s.useEffect)((function(){if(localStorage.user){var e=JSON.parse(localStorage.user);userform.value=e,a(e)}}),[]),Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n))}),[n]),Object(j.jsxs)("div",{children:[Object(j.jsx)("nav",{className:"navbar",role:"navigation","aria-label":"main nabigation",children:Object(j.jsx)("div",{className:"navbar-brand",children:Object(j.jsx)("input",{className:"navbar-item",id:"userform",value:n,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"Username"})})}),Object(j.jsx)(A,{userName:n,uid:e.uid})]})};function E(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(C,{uid:e.uid}),Object(j.jsx)(O,{})]})}var I=function(){var e=Object(s.useState)(!0),t=Object(c.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(null),i=Object(c.a)(a,2),o=i[0],d=i[1];return Object(s.useEffect)((function(){var e=u.onAuthStateChanged((function(e){n(!1),d(e),console.log(e.uid),e&&l.collection("problems").doc(e.uid).set({})}));return function(){return e()}}),[]),r?Object(j.jsx)("div",{children:"loading..."}):null==o?Object(j.jsx)(f,{}):Object(j.jsx)(E,{uid:o.uid})};r(41);Object(n.render)(Object(j.jsx)(I,{}),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.439d7b61.chunk.js.map